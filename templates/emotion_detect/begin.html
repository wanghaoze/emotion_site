<!DOCTYPE html>
{#{% load staticfiles %}#}
{% load static %}
<html lang="CN-zh" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>人脸表情识别</title>
    <link href="/static/css/styles_begin.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type="text/javascript">
        function myCheck() {
            var filename = document.getElementById("file").value;
            {#alert(filename);#}
            var fileName = filename.substring(filename.lastIndexOf(".") + 1).toLowerCase();
            var fileSize = document.getElementById("file").files[0].size / (1024*1024);
            {#alert(fileSize);#}
            if(filename === ""){
                alert('文件不能为空!');
                return false;
            }else if (fileName !== 'jpg' && fileName !== 'jpeg' && fileName !== 'png') {
                {#alert(fileName);#}
                alert("请选择'jpg'或'jpeg'或'png'格式文件上传！");
                return false;
            }else if (fileSize > 5){
                alert('文件大小不能超过5M！\n请重新选择图片上传！');
                return false;
            }
            alert('上传成功');
            return true;
        }

    {#document.addEventListener('DOMContentLoaded', () => {#}
    {#        document.querySelector('#submit').onclick = ()  => {#}
    {#            const sbpath = 1;#}
    {#            alert("上传成功！");#}
    {#        };#}
    {#    });#}
        <!-- 开始输入按钮响应事件 -->
    </script>
</head>

<form method="post">
<body id="top" >
<div class="container">

    <div class="row" >
        <div id="fk" class="col-sm-5" align="left" style="width: 10%;height: 80%; padding-top: 11%;padding-left: 30.7%">
            <br>
            <br>
            <form><input type="file" id="xFile" style="position:absolute;clip:rect(0 0 0 0);"></form>
{#            <button class="btnStyle1" type="button" name="开始输入" id="begin_input" #}
{#                    value="开始输入" onclick="window.open(location.herf='begin_input')">开始输入</button>#}
{#            <button class="btnStyle1" type="button" name="停止输入" id="stop_input" style="margin-top: 25%;"#}
{#                    value="停止输入" >停止输入</button>#}
            <button class="btnStyle1" type="button" name="停止输入" id="stop_input"
                    value="停止输入" onclick="window.open(location.href='../',_parent)">主页</button>
            <button class="btnStyle1" type="reset" name="重置" id="reset"
                    value="重置" onclick="window.open(location.href='../begin',_parent)">重置</button>
            <br />
            <br />
            <br />
            <br />
        </div>
        <div  class="col-sm-5" align="left">
            <div style="margin-top: 142px; margin-left: 32px" id="inputImage">

                <form id="form" name="form1" action="/begin/show_file" onsubmit="return myCheck();" method="post" enctype="multipart/form-data">
                     {% csrf_token %}
                    <input type="file" style="margin-left: 4%;margin-top: 20%" accept="image/,.jpg,.jpeg,.png" name="myfile" id="file"
                           value="打开" >
                    <br />
                    <button type="submit" style="margin-left: 4%;margin-top: 6%" value="上传" id="submit"
                    >OK</button>
                    <br />
                    <br />
                    <br />
                    <br />
                    <br />
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</form>
</html>